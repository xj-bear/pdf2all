services:
  pdf2all:
    # 方式一：使用 Docker 镜像 (推荐)
    # image: xjbear/pdf2all-mcp:latest
    
    # 方式二：从源码构建 (本地开发或私有部署)
    build: .
    
    container_name: pdf2all-mcp
    restart: always
    ports:
      - "10001:10001"
    environment:
      - NODE_ENV=production
      - PORT=10001
      # S3 配置 (请在环境变量中设置，不要直接写在这里)
      - S3_ENDPOINT=${S3_ENDPOINT}
      - S3_REGION=${S3_REGION:-auto}
      - S3_ACCESS_KEY_ID=${S3_ACCESS_KEY_ID}
      - S3_SECRET_ACCESS_KEY=${S3_SECRET_ACCESS_KEY}
      - S3_BUCKET=${S3_BUCKET}
      - S3_PUBLIC_DOMAIN=${S3_PUBLIC_DOMAIN}
